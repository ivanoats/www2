namespace :comments do

  desc 'cleans spam from comments'
  task(:clean => :environment) do
    puts "Starting Comment cleaner at #{Time.now}"
    #loop through comments
    #check for badwords
    badwords = %w(
-online
1freewebspace.com
4u
5gighost.com
Staphcillin
accutane
adipex
adultsex
advicer
amoxil
arcadepages
arimidex
associations.missouristate.edu
ativan
augmentin
baccarrat
baclofen
blackjack
bllogspot
blogs.blackmarble.co.uk
booker
buspar
byob
car-rental-e-site
car-rentals-e-site
carisoprodol
casino
casinos
chatroom
cialis
cipro
citalopram
clonazepam
coolcoolhu
coolhu
credit-card-debt
credit-report-4u
creditonlinepersonalloans
cwas
cyclen
cyclobenzaprine
dating-e-site
day-trading
debt-consolidation
debt-consolidation-consultant
diazepam
diovan
discreetordering
dostinex
duty-free
dutyfree
dvxuser.com
equityloans
fioricet
flagyl
flowers-leading-site
fosamax
freenet
freenet-shopping
gambling-
hair-loss
health-insurancedeals-4u
holdem
holdempoker
holdemsoftware
holdemtexasturbowilson
homeequityloans
homefinance
hotel-dealse-site
hotele-site
hotelse-site
incest
insurance-quotesdeals-4u
insurancedeals-4u
isuzuforums.com
jestmaster
jizz
jrcreations
kamagra
klonopin
lamictal
levaquin
levitra
lorazepam
lycos
macinstruct
metformin
metronidazole
mortgage-4-u
mortgagequotes
nojazzfest
online-gambling
onlinegambling-4u
ottawavalleyag
ownsthis
palm-texas-holdem-game
paxil
penguinforum
penis
personalloansbad
pharmacy
phenergan
phentermine
poker-chip
poze
propecia
proscar
pussy
remeron
rental-car-e-site
ringtone
ringtones
roulette
shemale
shoes
slot-machine
tamiflu
tegretol
texas-holdem
thorcarlson
top-e-site
top-site
toprol
toradol
tramadol
trim-spa
ultram
valeofglamorganconservatives
valium
viagra
vibramycin
vioxx
voltaren
vytorin
xanax
zantac
zofran
zolpidem
zolus

)
    #delete if they have badwords
    comments = Comment.find(:all)
    comments.each do |c|
      badwords.each do |bw|
        if c.comment.downcase.include?(bw) 
          c.destroy() 
          break
        end
      end
    end
    puts "Completed Comment cleaner at #{Time.now}"
  end
end